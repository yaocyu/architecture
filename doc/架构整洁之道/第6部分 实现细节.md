# 第30章 数据库只是实现细节

> **数据库与整个系统架构**的关系好比**门把手和整个房屋架构**的关系。

## 为什么数据库系统如此流行

+ 答案是硬盘
+ 针对某种数据和管理系统发展输出了两种截然不同的系统：文件系统与关系型数据库系统。
  + 文件系统提供的是一种便于存储整个文档的方式。
  + 数据库系统则主要关注的是内容，它提供的是一种便于进行内容检索的存储方式。
  + 

## 本章小结

+ 数据的组织结构，数据的模型，都是系统架构中的重要部分，数据库系统仅是一个实现细节。

# 第32章 应用程序框架是实现细节

> 框架不等同于系统架构

> 我们应该将框架作为架构最外圈的一个实现细节来使用，不要让他们进入内圈。

+ 不要根据框架的基类来创建派生类，我们可以创建一些代理类，同时把这些代理类当作**业务逻辑的插件**来管理
+ 把框架当作我们**核心代码的插件**来管理

# 第34章 拾遗

> 按层封装

> 按功能封装

> 端口和适配器

> 按组件封装

+ 组件
  + 定义：在一个执行环境（应用程序）中的、一个干净、良好的接口背后的一系列相关功能的集合。

> 具体实现细节中的陷阱

+ public访问控制修饰符的滥用

> 组织形式与封装的区别

> 其他的解耦合模式

+ 源代码级别解耦依赖关系
  + 三个代码树
    + 业务代码
    + Web源代码
    + 持久化源代码
      + 后两个源代码对业务代码有编译期依赖关系，而业务代码则对Web和数据持久毫无所知。
  + 两个代码树
    + 业务（Domain）代码（内部）
    + 基础设施（Infrastructure）代码（外部）
      + 基础设施部分对业务代码有一个编译期的依赖关系。

> 本章小结：本书拾遗

+ **所有的实现细节都是关键的！**
